<!-- Overlay de fondo -->
<div tabindex="0" (click)="onOverlayClick()" (keydown.enter)="onOverlayClick()" (keydown.escape)="onOverlayClick()"
  [class]="
    'cr-sidebar-overlay w-full h-screen fixed top-0 left-0 bg-[#000000b3] z-21 transition-opacity duration-300 cursor-pointer ' +
    (sidebarService.isOpen() ? 'opacity-100 visible' : 'opacity-0 invisible')
  " aria-label="Cerrar menú"></div>

<div [class]="
    'cr-side-cart cr-mobile-menu transition-all duration-500 ease h-full p-[15px] fixed top-0 bg-white z-22 overflow-auto w-[400px] max-[576px]:w-[300px] max-[420px]:w-[250px] ' +
    (sidebarService.isOpen()
      ? 'left-[0]'
      : 'left-[-400px] max-[576px]:left-[-300px] max-[420px]:left-[-250px]')
  ">
  <div
    class="cr-menu-title w-full mb-[10px] pb-[10px] flex flex-wrap justify-between border-b-[2px] border-solid border-[#e9e9e9]">
    <span class="menu-title text-[18px] font-semibold text-[#64b496]">Mi Menú</span>
    <button type="button" (click)="onClose()"
      class="cr-close relative border-0 text-[30px] leading-[1] text-[#999] bg-white cursor-pointer hover:text-[#64b496] transition-colors duration-200"
      aria-label="Cerrar menú">
      ×
    </button>
  </div>
  <div class="cr-menu-inner">
    <div class="cr-menu-content">
      <ul>
        <!-- Inicio (estático) -->
        <li class="dropdown drop-list relative leading-[28px]">
          <span
            class="menu-toggle h-[48px] absolute top-0 right-0 z-[-1] flex justify-center items-center cursor-pointer bg-transparent"></span>
          <a href="javascript:void(0)"
            class="dropdown-list py-[12px] block capitalize text-[15px] font-medium text-[#444] border-b border-solid border-[#e9e9e9]">Inicio</a>
        </li>

        @for (cat of categoryStateService.categories(); track cat.id) {
        <li class="dropdown drop-list relative leading-[28px]">
          <span
            class="menu-toggle h-[48px] absolute top-0 right-0 z-[-1] flex justify-center items-center cursor-pointer bg-transparent"></span>
          <a href="javascript:void(0)"
            class="dropdown-list py-[12px] block capitalize text-[15px] font-medium text-[#444] border-b border-solid border-[#e9e9e9]">
            <i [class]="cat.icon || ''" class="pr-[8px]"></i>{{ cat.name }}
          </a>
        </li>
        }
      </ul>
    </div>
  </div>
</div>